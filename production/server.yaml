---
# encoding: utf-8
# Copyright 2014 by Niklaus Giger <niklaus.giger@member.fsf.org>
# Example for server with a mysql database

elexis::mysql_server::ensure: true
x2go::server::ensure: true
packages_for_admin: [ inetutils-tools ]
packages_for_server: [ smartmontools ]

# TODO: ACL for /opt/samba
# TODO: Backup-rsnapshot /opt/samba
# TODO: NFS-Server f√ºr /opt/samba
# nfs4-acl-tools
elexis::nfs::client: true
elexis::nfs::server: true
elexis::acls::conf:
  "/home":
     permissions: ['user:backup:r-x' ]
  "/etc":
     permissions: ['user:backup:r-x' ]
  "/opt/backup":
     permissions: ['user:backup:rwx' ]
     permissions: ['user:mustermann:r-x' ]
  "/opt/samba":
     permissions: ['user:backup:r-x' ]
     permissions: ['user::rwx' ]

elexis::nfs:server:  true
nfs::exports::definitions:
  :samba:
    :path:        '/opt/samba'
    :options:     ['rw', 'async' ]
    :clients:     [ 172.25.1.0/24 ]

elexis::samba::ensure: true
desktop::display_manager:  kdm
desktop::window_manager:   kde
desktop::desktop_packages:
  - openjdk-7-jdk
  - manpages-de
